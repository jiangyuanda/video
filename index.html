<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/style.css">
    <!-- <script src="js/app.js"></script> -->
</head>

<body>
    <div class="live">
        <div class="l-title">
            <h1>H5在线直播系统</h1>
        </div>
        <div class="l-content">
            <video width="100%" height="100%" poster="image/image.jpg" id="video"></video>
        </div>
        <div class="l-control"></div>
    </div>
    <script>
       navigator.mediaDevices.getUserMedia({video:true})
            .then(function (mediaStream) {
                //获取video
                let video = document.getElementById("video");
                //输出到video
                video.srcObject = mediaStream;
                //视频流加载成功后播放
                video.onloadedmetadata = function () {
                    video.play(); //播放
                };
            }).catch(function (err) {
                let p = document.getElementById('p');
                p.innerHTML = err.name + ": " + err.message;
            });
    </script>
</body>

</html>
